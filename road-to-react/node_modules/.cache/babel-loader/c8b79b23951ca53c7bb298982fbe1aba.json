{"ast":null,"code":"import*as React from'react';import axios from'axios';import{sortBy}from'lodash';const API_BASE='https://hn.algolia.com/api/v1';const API_SEARCH='/search';const PARAM_SEARCH='query=';const PARAM_PAGE='page=';const getUrl=(searchTerm,page)=>\"\".concat(API_BASE).concat(API_SEARCH,\"?\").concat(PARAM_SEARCH).concat(searchTerm,\"&\").concat(PARAM_PAGE).concat(page);const extractSearchTerm=url=>url.substring(url.lastIndexOf('?')+1,url.lastIndexOf('&')).replace(PARAM_SEARCH,'');const getLastSearches=urls=>urls.reduce((result,url,index)=>{const searchTerm=extractSearchTerm(url);if(index===0){return result.concat(searchTerm);}const previousSearchTerm=result[result.length-1];if(searchTerm===previousSearchTerm){return result;}else{return result.concat(searchTerm);}},[]).slice(-6).slice(0,-1);const useSemiPersistentState=(key,initialState)=>{const[value,setValue]=React.useState(localStorage.getItem(key)||initialState);React.useEffect(()=>{localStorage.setItem(key,value);},[value,key]);return[value,setValue];};const storiesReducer=(state,action)=>{switch(action.type){case'STORIES_FETCH_INIT':return{...state,isLoading:true,isError:false};case'STORIES_FETCH_SUCCESS':return{...state,isLoading:false,isError:false,data:action.payload.page===0?action.payload.list:state.data.concat(action.payload.list),page:action.payload.page};case'STORIES_FETCH_FAILURE':return{...state,isLoading:false,isError:true};case'REMOVE_STORY':return{...state,data:state.data.filter(story=>action.payload.objectID!==story.objectID)};default:throw new Error();}};const App=()=>{const[searchTerm,setSearchTerm]=useSemiPersistentState('search','React');const[urls,setUrls]=React.useState([getUrl(searchTerm,0)]);const[stories,dispatchStories]=React.useReducer(storiesReducer,{data:[],page:0,isLoading:false,isError:false});const handleFetchStories=React.useCallback(async()=>{dispatchStories({type:'STORIES_FETCH_INIT'});try{const lastUrl=urls[urls.length-1];const result=await axios.get(lastUrl);dispatchStories({type:'STORIES_FETCH_SUCCESS',payload:{list:result.data.hits,page:result.data.page}});}catch{dispatchStories({type:'STORIES_FETCH_FAILURE'});}},[urls]);React.useEffect(()=>{handleFetchStories();},[handleFetchStories]);const handleRemoveStory=item=>{dispatchStories({type:'REMOVE_STORY',payload:item});};const handleSearchInput=event=>{setSearchTerm(event.target.value);};const handleSearchSubmit=event=>{handleSearch(searchTerm,0);event.preventDefault();};const handleLastSearch=searchTerm=>{setSearchTerm(searchTerm);handleSearch(searchTerm,0);};const handleMore=()=>{const lastUrl=urls[urls.length-1];const searchTerm=extractSearchTerm(lastUrl);handleSearch(searchTerm,stories.page+1);};const handleSearch=(searchTerm,page)=>{const url=getUrl(searchTerm,page);setUrls(urls.concat(url));};const lastSearches=getLastSearches(urls);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"My Hacker Stories\"),/*#__PURE__*/React.createElement(SearchForm,{searchTerm:searchTerm,onSearchInput:handleSearchInput,onSearchSubmit:handleSearchSubmit}),/*#__PURE__*/React.createElement(LastSearches,{lastSearches:lastSearches,onLastSearch:handleLastSearch}),/*#__PURE__*/React.createElement(\"hr\",null),stories.isError&&/*#__PURE__*/React.createElement(\"p\",null,\"Something went wrong ...\"),/*#__PURE__*/React.createElement(List,{list:stories.data,onRemoveItem:handleRemoveStory}),stories.isLoading?/*#__PURE__*/React.createElement(\"p\",null,\"Loading ...\"):/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:handleMore},\"More\"));};const LastSearches=_ref=>{let{lastSearches,onLastSearch}=_ref;return/*#__PURE__*/React.createElement(React.Fragment,null,lastSearches.map((searchTerm,index)=>/*#__PURE__*/React.createElement(\"button\",{key:searchTerm+index,type:\"button\",onClick:()=>onLastSearch(searchTerm)},searchTerm)));};const SearchForm=_ref2=>{let{searchTerm,onSearchInput,onSearchSubmit}=_ref2;return/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSearchSubmit},/*#__PURE__*/React.createElement(InputWithLabel,{id:\"search\",value:searchTerm,isFocused:true,onInputChange:onSearchInput},/*#__PURE__*/React.createElement(\"strong\",null,\"Search:\")),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",disabled:!searchTerm},\"Submit\"));};const InputWithLabel=_ref3=>{let{id,value,type='text',onInputChange,isFocused,children}=_ref3;const inputRef=React.useRef();React.useEffect(()=>{if(isFocused&&inputRef.current){inputRef.current.focus();}},[isFocused]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:id},children),\"\\xA0\",/*#__PURE__*/React.createElement(\"input\",{id:id,ref:inputRef,type:type,value:value,onChange:onInputChange}));};const SORTS={NONE:list=>list,TITLE:list=>sortBy(list,'title'),AUTHOR:list=>sortBy(list,'author'),COMMENT:list=>sortBy(list,'num_comments').reverse(),POINT:list=>sortBy(list,'points').reverse()};const List=_ref4=>{let{list,onRemoveItem}=_ref4;const[sort,setSort]=React.useState({sortKey:'NONE',isReverse:false});const handleSort=sortKey=>{const isReverse=sort.sortKey===sortKey&&!sort.isReverse;setSort({sortKey,isReverse});};const sortFunction=SORTS[sort.sortKey];const sortedList=sort.isReverse?sortFunction(list).reverse():sortFunction(list);return/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{style:{display:'flex'}},/*#__PURE__*/React.createElement(\"span\",{style:{width:'40%'}},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:()=>handleSort('TITLE')},\"Title\")),/*#__PURE__*/React.createElement(\"span\",{style:{width:'30%'}},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:()=>handleSort('AUTHOR')},\"Author\")),/*#__PURE__*/React.createElement(\"span\",{style:{width:'10%'}},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:()=>handleSort('COMMENT')},\"Comments\")),/*#__PURE__*/React.createElement(\"span\",{style:{width:'10%'}},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:()=>handleSort('POINT')},\"Points\")),/*#__PURE__*/React.createElement(\"span\",{style:{width:'10%'}},\"Actions\")),sortedList.map(item=>/*#__PURE__*/React.createElement(Item,{key:item.objectID,item:item,onRemoveItem:onRemoveItem})));};const Item=_ref5=>{let{item,onRemoveItem}=_ref5;return/*#__PURE__*/React.createElement(\"li\",{style:{display:'flex'}},/*#__PURE__*/React.createElement(\"span\",{style:{width:'40%'}},/*#__PURE__*/React.createElement(\"a\",{href:item.url},item.title)),/*#__PURE__*/React.createElement(\"span\",{style:{width:'30%'}},item.author),/*#__PURE__*/React.createElement(\"span\",{style:{width:'10%'}},item.num_comments),/*#__PURE__*/React.createElement(\"span\",{style:{width:'10%'}},item.points),/*#__PURE__*/React.createElement(\"span\",{style:{width:'10%'}},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:()=>onRemoveItem(item)},\"Dismiss\")));};export default App;","map":{"version":3,"names":["React","axios","sortBy","API_BASE","API_SEARCH","PARAM_SEARCH","PARAM_PAGE","getUrl","searchTerm","page","concat","extractSearchTerm","url","substring","lastIndexOf","replace","getLastSearches","urls","reduce","result","index","previousSearchTerm","length","slice","useSemiPersistentState","key","initialState","value","setValue","useState","localStorage","getItem","useEffect","setItem","storiesReducer","state","action","type","isLoading","isError","data","payload","list","filter","story","objectID","Error","App","setSearchTerm","setUrls","stories","dispatchStories","useReducer","handleFetchStories","useCallback","lastUrl","get","hits","handleRemoveStory","item","handleSearchInput","event","target","handleSearchSubmit","handleSearch","preventDefault","handleLastSearch","handleMore","lastSearches","createElement","SearchForm","onSearchInput","onSearchSubmit","LastSearches","onLastSearch","List","onRemoveItem","onClick","_ref","Fragment","map","_ref2","onSubmit","InputWithLabel","id","isFocused","onInputChange","disabled","_ref3","children","inputRef","useRef","current","focus","htmlFor","ref","onChange","SORTS","NONE","TITLE","AUTHOR","COMMENT","reverse","POINT","_ref4","sort","setSort","sortKey","isReverse","handleSort","sortFunction","sortedList","style","display","width","Item","_ref5","href","title","author","num_comments","points"],"sources":["/Users/jaime/Desktop/road-to-react/hacker-stories/src/App.js"],"sourcesContent":["import * as React from 'react';\nimport axios from 'axios';\nimport { sortBy } from 'lodash';\n\nconst API_BASE = 'https://hn.algolia.com/api/v1';\nconst API_SEARCH = '/search';\nconst PARAM_SEARCH = 'query=';\nconst PARAM_PAGE = 'page=';\n\nconst getUrl = (searchTerm, page) =>\n  `${API_BASE}${API_SEARCH}?${PARAM_SEARCH}${searchTerm}&${PARAM_PAGE}${page}`;\n\nconst extractSearchTerm = (url) =>\n  url\n    .substring(url.lastIndexOf('?') + 1, url.lastIndexOf('&'))\n    .replace(PARAM_SEARCH, '');\n\nconst getLastSearches = (urls) =>\n  urls\n    .reduce((result, url, index) => {\n      const searchTerm = extractSearchTerm(url);\n\n      if (index === 0) {\n        return result.concat(searchTerm);\n      }\n\n      const previousSearchTerm = result[result.length - 1];\n\n      if (searchTerm === previousSearchTerm) {\n        return result;\n      } else {\n        return result.concat(searchTerm);\n      }\n    }, [])\n    .slice(-6)\n    .slice(0, -1);\n\nconst useSemiPersistentState = (key, initialState) => {\n  const [value, setValue] = React.useState(\n    localStorage.getItem(key) || initialState\n  );\n\n  React.useEffect(() => {\n    localStorage.setItem(key, value);\n  }, [value, key]);\n\n  return [value, setValue];\n};\n\nconst storiesReducer = (state, action) => {\n  switch (action.type) {\n    case 'STORIES_FETCH_INIT':\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n    case 'STORIES_FETCH_SUCCESS':\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data:\n          action.payload.page === 0\n            ? action.payload.list\n            : state.data.concat(action.payload.list),\n        page: action.payload.page,\n      };\n    case 'STORIES_FETCH_FAILURE':\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n    case 'REMOVE_STORY':\n      return {\n        ...state,\n        data: state.data.filter(\n          (story) => action.payload.objectID !== story.objectID\n        ),\n      };\n    default:\n      throw new Error();\n  }\n};\n\nconst App = () => {\n  const [searchTerm, setSearchTerm] = useSemiPersistentState(\n    'search',\n    'React'\n  );\n\n  const [urls, setUrls] = React.useState([getUrl(searchTerm, 0)]);\n\n  const [stories, dispatchStories] = React.useReducer(\n    storiesReducer,\n    { data: [], page: 0, isLoading: false, isError: false }\n  );\n\n  const handleFetchStories = React.useCallback(async () => {\n    dispatchStories({ type: 'STORIES_FETCH_INIT' });\n\n    try {\n      const lastUrl = urls[urls.length - 1];\n      const result = await axios.get(lastUrl);\n\n      dispatchStories({\n        type: 'STORIES_FETCH_SUCCESS',\n        payload: {\n          list: result.data.hits,\n          page: result.data.page,\n        },\n      });\n    } catch {\n      dispatchStories({ type: 'STORIES_FETCH_FAILURE' });\n    }\n  }, [urls]);\n\n  React.useEffect(() => {\n    handleFetchStories();\n  }, [handleFetchStories]);\n\n  const handleRemoveStory = (item) => {\n    dispatchStories({\n      type: 'REMOVE_STORY',\n      payload: item,\n    });\n  };\n\n  const handleSearchInput = (event) => {\n    setSearchTerm(event.target.value);\n  };\n\n  const handleSearchSubmit = (event) => {\n    handleSearch(searchTerm, 0);\n\n    event.preventDefault();\n  };\n\n  const handleLastSearch = (searchTerm) => {\n    setSearchTerm(searchTerm);\n\n    handleSearch(searchTerm, 0);\n  };\n\n  const handleMore = () => {\n    const lastUrl = urls[urls.length - 1];\n    const searchTerm = extractSearchTerm(lastUrl);\n    handleSearch(searchTerm, stories.page + 1);\n  };\n\n  const handleSearch = (searchTerm, page) => {\n    const url = getUrl(searchTerm, page);\n    setUrls(urls.concat(url));\n  };\n\n  const lastSearches = getLastSearches(urls);\n\n  return (\n    <div>\n      <h1>My Hacker Stories</h1>\n\n      <SearchForm\n        searchTerm={searchTerm}\n        onSearchInput={handleSearchInput}\n        onSearchSubmit={handleSearchSubmit}\n      />\n\n      <LastSearches\n        lastSearches={lastSearches}\n        onLastSearch={handleLastSearch}\n      />\n\n      <hr />\n\n      {stories.isError && <p>Something went wrong ...</p>}\n\n      <List list={stories.data} onRemoveItem={handleRemoveStory} />\n\n      {stories.isLoading ? (\n        <p>Loading ...</p>\n      ) : (\n        <button type=\"button\" onClick={handleMore}>\n          More\n        </button>\n      )}\n    </div>\n  );\n};\n\nconst LastSearches = ({ lastSearches, onLastSearch }) => (\n  <>\n    {lastSearches.map((searchTerm, index) => (\n      <button\n        key={searchTerm + index}\n        type=\"button\"\n        onClick={() => onLastSearch(searchTerm)}\n      >\n        {searchTerm}\n      </button>\n    ))}\n  </>\n);\n\nconst SearchForm = ({\n  searchTerm,\n  onSearchInput,\n  onSearchSubmit,\n}) => (\n  <form onSubmit={onSearchSubmit}>\n    <InputWithLabel\n      id=\"search\"\n      value={searchTerm}\n      isFocused\n      onInputChange={onSearchInput}\n    >\n      <strong>Search:</strong>\n    </InputWithLabel>\n\n    <button type=\"submit\" disabled={!searchTerm}>\n      Submit\n    </button>\n  </form>\n);\n\nconst InputWithLabel = ({\n  id,\n  value,\n  type = 'text',\n  onInputChange,\n  isFocused,\n  children,\n}) => {\n  const inputRef = React.useRef();\n\n  React.useEffect(() => {\n    if (isFocused && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isFocused]);\n\n  return (\n    <>\n      <label htmlFor={id}>{children}</label>\n      &nbsp;\n      <input\n        id={id}\n        ref={inputRef}\n        type={type}\n        value={value}\n        onChange={onInputChange}\n      />\n    </>\n  );\n};\n\nconst SORTS = {\n  NONE: (list) => list,\n  TITLE: (list) => sortBy(list, 'title'),\n  AUTHOR: (list) => sortBy(list, 'author'),\n  COMMENT: (list) => sortBy(list, 'num_comments').reverse(),\n  POINT: (list) => sortBy(list, 'points').reverse(),\n};\n\nconst List = ({ list, onRemoveItem }) => {\n  const [sort, setSort] = React.useState({\n    sortKey: 'NONE',\n    isReverse: false,\n  });\n\n  const handleSort = (sortKey) => {\n    const isReverse = sort.sortKey === sortKey && !sort.isReverse;\n\n    setSort({ sortKey, isReverse });\n  };\n\n  const sortFunction = SORTS[sort.sortKey];\n  const sortedList = sort.isReverse\n    ? sortFunction(list).reverse()\n    : sortFunction(list);\n\n  return (\n    <ul>\n      <li style={{ display: 'flex' }}>\n        <span style={{ width: '40%' }}>\n          <button type=\"button\" onClick={() => handleSort('TITLE')}>\n            Title\n          </button>\n        </span>\n        <span style={{ width: '30%' }}>\n          <button type=\"button\" onClick={() => handleSort('AUTHOR')}>\n            Author\n          </button>\n        </span>\n        <span style={{ width: '10%' }}>\n          <button type=\"button\" onClick={() => handleSort('COMMENT')}>\n            Comments\n          </button>\n        </span>\n        <span style={{ width: '10%' }}>\n          <button type=\"button\" onClick={() => handleSort('POINT')}>\n            Points\n          </button>\n        </span>\n        <span style={{ width: '10%' }}>Actions</span>\n      </li>\n\n      {sortedList.map((item) => (\n        <Item\n          key={item.objectID}\n          item={item}\n          onRemoveItem={onRemoveItem}\n        />\n      ))}\n    </ul>\n  );\n};\n\nconst Item = ({ item, onRemoveItem }) => (\n  <li style={{ display: 'flex' }}>\n    <span style={{ width: '40%' }}>\n      <a href={item.url}>{item.title}</a>\n    </span>\n    <span style={{ width: '30%' }}>{item.author}</span>\n    <span style={{ width: '10%' }}>{item.num_comments}</span>\n    <span style={{ width: '10%' }}>{item.points}</span>\n    <span style={{ width: '10%' }}>\n      <button type=\"button\" onClick={() => onRemoveItem(item)}>\n        Dismiss\n      </button>\n    </span>\n  </li>\n);\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}