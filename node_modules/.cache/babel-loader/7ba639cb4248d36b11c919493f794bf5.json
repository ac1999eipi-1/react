{"ast":null,"code":"var _jsxFileName = \"/Users/jaime/Desktop/road-to-react/hacker-stories/src/App.mjs\";\nimport styles from './App.module.css';\nimport { ReactComponent as Check } from \"@svgr/webpack?-svgo,+titleProp,+ref!./logo.svg\";\nimport * as React from 'react';\nimport axios from 'axios'; //book had old definition of how to import.\n\n//potential in enzyme for testing\n// className\n//can remove paranthesis in arrow functions if only one item.\n//can remove curly braces if only returns.\n//return is implied for such simple systems.\n//const title = 'React'; //defined outside the function as it will be re-rendered if defined inside.\n// can use typescript in react\n//unionn types \n\n/* const welcome = {\n  greeting: 'Hey', \n  title: 'react',\n}; \n*/\n\n/*\nfunction getTitle( title ){\n  return title;\n}\n*/\n\nconst API_ENDPOINT = 'https://hn.algolia.com/api/v1/search?query=';\nconst storiesReducer = (state, action) => {\n  switch (action.type) {\n    case 'STORIES_FETCH_INIT':\n      return {\n        ...state,\n        isLoading: true,\n        isError: false\n      };\n    case 'STORIES_FETCH_SUCCESS':\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload\n      };\n    case 'STORIES_FETCH_FAILURE':\n      return {\n        ...state,\n        isLoading: false,\n        isError: true\n      };\n    case 'REMOVE_STORY':\n      return {\n        ...state,\n        data: state.data.filter(story => action.payload.objectID !== story.objectID)\n      };\n    default:\n      throw new Error();\n  }\n\n  /*\n  if( action.type === 'SET_STORIES'){\n    return action.paylaod;\n  }else if( action.type === 'REMOVE_STORY'){\n    return state.filter((story) => action.payload.objectID !== story.objectID);\n  }else{\n    throw new Error();\n  }\n  */\n};\nconst useSemiPersistentState = (key, initialState) => {\n  const isMounted = React.useRef(false);\n  const [value, setValue] = React.useState(localStorage.getItem(key) || initialState);\n  React.useEffect(() => {\n    if (!isMounted.current) {\n      isMounted.current = true;\n    } else {\n      localStorage.setItem(key, value);\n    }\n  }, [value, key]);\n  return [value, setValue];\n};\nconst getSumComments = stories => {\n  console.log('C');\n  return stories.data.reduce((result, value) => result + value.num_comments, 0);\n};\n\n//object destructuring\n\n//function App(){}\nconst App = () => {\n  /*\n  const initialStories = [\n  {\n    title: 'React',\n    url: 'https://reactjs.org/',\n    author: 'Jordan Walke',\n    num_comments: 3,\n    points: 4,\n    objectID: 0,\n  },\n  {\n    title: 'Redux',\n    url: 'https://redux.js.org/',\n    author: 'Dan Abromov, Andrew Clark',\n    num_comments: 3,\n    points: 4,\n    objectID: 0,\n  },\n  ]\n  */\n\n  /*\n  const getAsyncStories = () =>\n    new Promise  ((resolve) => setTimeout(() => resolve({data: {stories: initialStories}}), 2000));\n  */\n\n  //const [searchTerm, setSearchTerm] = React.useState(localStorage.getItem('search') || 'React');\n  const [searchTerm, setSearchTerm] = useSemiPersistentState('search', 'React');\n\n  //const [stories, dispatchStories] = React.useReducer(storiesReducer, []);\n  //const [ isLoading, setIsLoading ] = React.useState(false);\n  //const [ isError, setIsError] = React.useState(false);\n  const [stories, dispatchStories] = React.useReducer(storiesReducer, {\n    data: [],\n    isLoading: false,\n    isError: false\n  });\n  const [url, setUrl] = React.useState(`${API_ENDPOINT}${searchTerm}`);\n  const handleSearchInput = event => {\n    setSearchTerm(event.target.value);\n  };\n  const handleSearchSubmit = event => {\n    setUrl(`${API_ENDPOINT}${searchTerm}`);\n    event.preventDefault();\n  };\n  const handleFetchStories = React.useCallback(async () => {\n    dispatchStories({\n      type: 'STORIES_FETCH_INIT'\n    });\n    try {\n      const result = await axios.get(url);\n      dispatchStories({\n        type: 'STORIES_FETCH_SUCCESS',\n        payload: result.data.hits\n      });\n    } catch {\n      dispatchStories({\n        type: 'STORIES_FETCH_FAILURE'\n      });\n    }\n\n    /* axios.get(url).then(result => {\n       dispatchStories({\n         type: 'STORIES_FETCH_SUCCESS',\n         payload: result.data.hits,\n       });\n    }).catch(() => dispatchStories({type: 'STORIES_FETCH_FAILURE'})); */\n  }, [url]);\n  React.useEffect(() => {\n    handleFetchStories();\n  }, [handleFetchStories]);\n  const handleRemoveStory = React.useCallback(item => {\n    dispatchStories({\n      type: 'REMOVE_STORY',\n      payload: item\n    });\n  }, []);\n  const sumComments = React.useMemo(() => getSumComments(stories), [stories]);\n\n  /*\n  React.useEffect(()=>{\n      localStorage.setItem('search', searchTerm);\n    }, [searchTerm]);\n  */\n\n  /*\n  const handleSearch = (event) => {\n      setSearchTerm( event.target.value );\n      //console.log( event.target.value );\n  \n      localStorage.setItem( 'search', event.target.value );\n    }\n  \n  */\n\n  /*\n  const searchedStories = stories.data.filter( function (story) {\n    return story.title && story.title.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n  */\n  //You can do something in between \n  //const title = 'React';\n\n  /* return (\n    <div>\n      <h1> Hello World </h1>\n    </div>\n  ); */\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"headline-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }, \"My Hacker Stories with \", sumComments, \" comments.\"), /*#__PURE__*/React.createElement(SearchForm, {\n    searchTerm: searchTerm,\n    onSearchInput: handleSearchInput,\n    onSearchSubmit: handleSearchSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }), stories.isError && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 27\n    }\n  }, \"Something went wrong ...\"), stories.isLoading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }\n  }, \"Loading ...\") : /*#__PURE__*/React.createElement(List, {\n    list: stories.data,\n    onRemoveItem: handleRemoveStory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }));\n};\n\n//use of destructuring here.\nconst List = React.memo(({\n  list,\n  onRemoveItem\n}) => console.log(\"B:List\") || /*#__PURE__*/React.createElement(\"ul\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }\n}, list.map(item => /*#__PURE__*/React.createElement(Item, {\n  key: item.objectID,\n  item: item,\n  onRemoveItem: onRemoveItem,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 11\n  }\n}))));\nconst InputWithLabel = ({\n  id,\n  value,\n  type = 'text',\n  onInputChange,\n  isFocused,\n  children\n}) => {\n  const inputRef = React.useRef();\n  //synthetic event\n  //const [searchTerm, setSearchTerm] = React.useState(''); //react hooks\n\n  /*\n  const handleChange = (event) => {\n    setSearchTerm( event.target.value );\n    //console.log(event.target.value);\n    props.onSearch( event );\n  }\n  */\n  React.useEffect(() => {\n    if (isFocused && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isFocused]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: id,\n    className: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }\n  }, children), \"\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n    id: id,\n    ref: inputRef,\n    type: type,\n    value: value,\n    onChange: onInputChange,\n    className: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }\n  }));\n};\n\n//nested desttructuring can be used here.\nconst Item = ({\n  item,\n  onRemoveItem\n}) => /*#__PURE__*/React.createElement(\"li\", {\n  className: \"item\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 301,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  style: {\n    width: '40%'\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"a\", {\n  href: item.url,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 7\n  }\n}, item.title)), /*#__PURE__*/React.createElement(\"span\", {\n  style: {\n    width: '30%'\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 305,\n    columnNumber: 5\n  }\n}, item.author), /*#__PURE__*/React.createElement(\"span\", {\n  style: {\n    width: '10%'\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 306,\n    columnNumber: 5\n  }\n}, item.num_comments), /*#__PURE__*/React.createElement(\"span\", {\n  style: {\n    width: '10%'\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }\n}, item.points), /*#__PURE__*/React.createElement(\"span\", {\n  style: {\n    width: '10%'\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 308,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"button\", {\n  type: \"button\",\n  onClick: () => onRemoveItem(item),\n  className: \"button button_small\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 309,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(Check, {\n  height: \"18px\",\n  width: \"18px\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 9\n  }\n}))));\nconst SearchForm = ({\n  searchTerm,\n  onSearchInput,\n  onSearchSubmit\n}) => /*#__PURE__*/React.createElement(\"form\", {\n  onSubmit: onSearchSubmit,\n  className: \"search-form\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(InputWithLabel, {\n  id: \"search\",\n  value: searchTerm,\n  isFocused: true,\n  onInputChange: onSearchInput,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 326,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"strong\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 7\n  }\n}, \"Search:\")), /*#__PURE__*/React.createElement(\"button\", {\n  type: \"submit\",\n  disabled: !searchTerm,\n  className: \"button button_large\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 5\n  }\n}, \"Submit\"));\nexport default App;\nexport { storiesReducer, SearchForm, InputWithLabel, List, Item };","map":{"version":3,"names":["styles","ReactComponent","Check","React","axios","API_ENDPOINT","storiesReducer","state","action","type","isLoading","isError","data","payload","filter","story","objectID","Error","useSemiPersistentState","key","initialState","isMounted","useRef","value","setValue","useState","localStorage","getItem","useEffect","current","setItem","getSumComments","stories","console","log","reduce","result","num_comments","App","searchTerm","setSearchTerm","dispatchStories","useReducer","url","setUrl","handleSearchInput","event","target","handleSearchSubmit","preventDefault","handleFetchStories","useCallback","get","hits","handleRemoveStory","item","sumComments","useMemo","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","SearchForm","onSearchInput","onSearchSubmit","List","list","onRemoveItem","memo","map","Item","InputWithLabel","id","onInputChange","isFocused","children","inputRef","focus","Fragment","htmlFor","label","ref","onChange","input","style","width","href","title","author","points","onClick","height","onSubmit","disabled"],"sources":["/Users/jaime/Desktop/road-to-react/hacker-stories/src/App.mjs"],"sourcesContent":["import styles from './App.module.css';\nimport { ReactComponent as Check } from './logo.svg';\nimport * as React from 'react';\nimport axios from 'axios'; //book had old definition of how to import.\n\n\n//potential in enzyme for testing\n// className\n//can remove paranthesis in arrow functions if only one item.\n//can remove curly braces if only returns.\n//return is implied for such simple systems.\n//const title = 'React'; //defined outside the function as it will be re-rendered if defined inside.\n// can use typescript in react\n//unionn types \n\n/* const welcome = {\n  greeting: 'Hey', \n  title: 'react',\n}; \n*/\n\n/*\nfunction getTitle( title ){\n  return title;\n}\n*/\n\nconst API_ENDPOINT = 'https://hn.algolia.com/api/v1/search?query=';\n\nconst storiesReducer = (state, action) => {\n  switch( action.type ){\n    case 'STORIES_FETCH_INIT':\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n    case 'STORIES_FETCH_SUCCESS':\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload,\n      }\n    case 'STORIES_FETCH_FAILURE':\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      }\n    case 'REMOVE_STORY':\n      return {\n        ...state,\n        data: state.data.filter((story)  => action.payload.objectID !== story.objectID)\n      }\n    default:\n      throw new Error();\n  }\n\n  /*\n  if( action.type === 'SET_STORIES'){\n    return action.paylaod;\n  }else if( action.type === 'REMOVE_STORY'){\n    return state.filter((story) => action.payload.objectID !== story.objectID);\n  }else{\n    throw new Error();\n  }\n  */\n};\n\n const useSemiPersistentState = (key, initialState) => {\n\n  const isMounted = React.useRef(false);\n  const [ value, setValue ] = React.useState(\n    localStorage.getItem(key) || initialState\n  );\n\n  React.useEffect(() => {\n    if(!isMounted.current){\n      isMounted.current = true;\n    }else{\n    localStorage.setItem(key, value);\n    }\n  }, [value, key]);\n\n  return [value, setValue];\n};\n\n\nconst getSumComments = (stories) => {\n console.log('C');\n\n return stories.data.reduce( (result, value) => result + value.num_comments, 0 );\n}\n\n\n\n\n//object destructuring\n\n//function App(){}\nconst App = () => {\n\n\n\n  /*\n  const initialStories = [\n  {\n    title: 'React',\n    url: 'https://reactjs.org/',\n    author: 'Jordan Walke',\n    num_comments: 3,\n    points: 4,\n    objectID: 0,\n  },\n  {\n    title: 'Redux',\n    url: 'https://redux.js.org/',\n    author: 'Dan Abromov, Andrew Clark',\n    num_comments: 3,\n    points: 4,\n    objectID: 0,\n  },\n]\n*/\n\n/*\nconst getAsyncStories = () =>\n  new Promise  ((resolve) => setTimeout(() => resolve({data: {stories: initialStories}}), 2000));\n*/\n\n//const [searchTerm, setSearchTerm] = React.useState(localStorage.getItem('search') || 'React');\nconst [searchTerm, setSearchTerm] = useSemiPersistentState('search', 'React');\n\n\n//const [stories, dispatchStories] = React.useReducer(storiesReducer, []);\n//const [ isLoading, setIsLoading ] = React.useState(false);\n//const [ isError, setIsError] = React.useState(false);\nconst [stories, dispatchStories] = React.useReducer(storiesReducer,  {data: [], isLoading: false, isError: false});\n\nconst [url, setUrl] = React.useState(`${API_ENDPOINT}${searchTerm}`);\n\nconst handleSearchInput = (event) => {\nsetSearchTerm(event.target.value);\n};\n\nconst handleSearchSubmit = (event) => {\n  setUrl( `${API_ENDPOINT}${searchTerm}`  );\n\n  event.preventDefault();\n  \n};\n\n\nconst handleFetchStories = React.useCallback(async () => {\n  dispatchStories({ type: 'STORIES_FETCH_INIT'});\n\n  try{\n  const result = await axios.get( url );\n\n  dispatchStories({\n    type: 'STORIES_FETCH_SUCCESS',\n    payload: result.data.hits,\n  });\n} catch {\n  dispatchStories({ type: 'STORIES_FETCH_FAILURE'});\n}\n\n /* axios.get(url).then(result => {\n    dispatchStories({\n      type: 'STORIES_FETCH_SUCCESS',\n      payload: result.data.hits,\n    });\n}).catch(() => dispatchStories({type: 'STORIES_FETCH_FAILURE'})); */\n\n}, [url]);\n\n\nReact.useEffect(() => {\n  handleFetchStories();\n}, [handleFetchStories]);\n\nconst handleRemoveStory = React.useCallback((item) => {\ndispatchStories({\n  type: 'REMOVE_STORY',\n  payload: item,\n});\n},[]);\n\n\nconst sumComments = React.useMemo(() => getSumComments(stories) , [stories,]);\n\n/*\nReact.useEffect(()=>{\n    localStorage.setItem('search', searchTerm);\n  }, [searchTerm]);\n*/\n\n/*\nconst handleSearch = (event) => {\n    setSearchTerm( event.target.value );\n    //console.log( event.target.value );\n\n    localStorage.setItem( 'search', event.target.value );\n  }\n\n*/\n\n  /*\n  const searchedStories = stories.data.filter( function (story) {\n    return story.title && story.title.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n  */\n  //You can do something in between \n  //const title = 'React';\n\n  /* return (\n    <div>\n      <h1> Hello World </h1>\n    </div>\n  ); */\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"headline-primary\">My Hacker Stories with {sumComments} comments.</h1>\n\n      <SearchForm\n        searchTerm={searchTerm}\n        onSearchInput={handleSearchInput}\n        onSearchSubmit={handleSearchSubmit}\n      />\n\n      {stories.isError && <p>Something went wrong ...</p>}\n\n      {stories.isLoading ? (\n        <p>Loading ...</p>\n      ) : (\n        <List list={stories.data} onRemoveItem={handleRemoveStory} />\n      )}\n    </div>\n  );\n}\n\n//use of destructuring here.\nconst List = React.memo( ({list, onRemoveItem}) => console.log(\"B:List\") || (\n    <ul>\n        {list.map( (item) => (\n          <Item key = {item.objectID} item = {item} onRemoveItem = {onRemoveItem} />\n        ))}\n        {/* spread operator bit confusing how it does this. */}\n      </ul>\n      )\n);\n\nconst InputWithLabel = ({\n  id,\n  value,\n  type = 'text',\n  onInputChange,\n  isFocused,\n  children,\n}) => {\n  const inputRef = React.useRef();\n  //synthetic event\n  //const [searchTerm, setSearchTerm] = React.useState(''); //react hooks\n\n  /*\n  const handleChange = (event) => {\n    setSearchTerm( event.target.value );\n    //console.log(event.target.value);\n    props.onSearch( event );\n  }\n  */\n  React.useEffect(() => {\n    if (isFocused && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isFocused]);\n\n  return (\n    <>\n      <label htmlFor={id} className={styles.label}>\n        {children}\n      </label>\n      &nbsp;\n      <input\n        id={id}\n        ref={inputRef}\n        type={type}\n        value={value}\n        onChange={onInputChange}\n        className={styles.input}\n      />\n    </>\n  );\n};\n\n\n//nested desttructuring can be used here.\nconst Item = ({ item, onRemoveItem }) => (\n  <li className=\"item\">\n    <span style={{ width: '40%' }}>\n      <a href={item.url}>{item.title}</a>\n    </span>\n    <span style={{ width: '30%' }}>{item.author}</span>\n    <span style={{ width: '10%' }}>{item.num_comments}</span>\n    <span style={{ width: '10%' }}>{item.points}</span>\n    <span style={{ width: '10%' }}>\n      <button\n        type=\"button\"\n        onClick={() => onRemoveItem(item)}\n        className=\"button button_small\"\n      >\n        <Check height = \"18px\" width = \"18px\" />\n      </button>\n    </span>\n  </li>\n);\n\nconst SearchForm = ({\n  searchTerm,\n  onSearchInput,\n  onSearchSubmit,\n}) => (\n  <form onSubmit={onSearchSubmit} className=\"search-form\">\n    <InputWithLabel\n      id=\"search\"\n      value={searchTerm}\n      isFocused\n      onInputChange={onSearchInput}\n    >\n      <strong>Search:</strong>\n    </InputWithLabel>\n\n    <button\n      type=\"submit\"\n      disabled={!searchTerm}\n      className=\"button button_large\"\n    >\n      Submit\n    </button>\n  </form>\n);\n\nexport default App;\n\n\n\nexport {\n  storiesReducer, SearchForm, InputWithLabel, List, Item\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}