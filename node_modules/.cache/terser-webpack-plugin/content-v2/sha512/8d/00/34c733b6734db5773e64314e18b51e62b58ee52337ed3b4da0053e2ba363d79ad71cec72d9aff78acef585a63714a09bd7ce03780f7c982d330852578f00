{"map":{"version":3,"sources":["static/js/main.9a2006e0.chunk.js"],"names":["this","push","18","module","exports","__webpack_require__","24","__webpack_exports__","r","react","react_default","n","client","client_default","axios","lodash","getUrl","searchTerm","page","concat","extractSearchTerm","url","substring","lastIndexOf","replace","storiesReducer","state","action","type","isLoading","isError","data","payload","list","filter","story","objectID","Error","LastSearches","_ref","lastSearches","onLastSearch","map","index","key","onClick","SearchForm","_ref2","onSearchInput","onSearchSubmit","onSubmit","InputWithLabel","id","value","isFocused","onInputChange","disabled","_ref3","children","inputRef","current","focus","htmlFor","ref","onChange","SORTS","NONE","TITLE","Object","AUTHOR","COMMENT","reverse","POINT","List","_ref4","onRemoveItem","sort","setSort","sortKey","isReverse","handleSort","sortFunction","sortedList","style","display","width","item","Item","_ref5","href","title","author","num_comments","points","src_App","setSearchTerm","initialState","setValue","localStorage","getItem","setItem","useSemiPersistentState","urls","setUrls","stories","dispatchStories","handleFetchStories","async","lastUrl","length","result","get","hits","handleSearch","reduce","slice","getLastSearches","event","target","preventDefault","src_reportWebVitals","onPerfEntry","Function","e","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","a","createRoot","document","getElementById","render","createElement","StrictMode","9"],"mappings":"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"},"code":"(this[\"webpackJsonphacker-stories\"]=this[\"webpackJsonphacker-stories\"]||[]).push([[0],{18:function(e,t,n){},24:function(e,t,n){\"use strict\";n.r(t);var a=n(1),r=n.n(a),c=n(8),l=n.n(c),s=(n(18),n(26)),o=n(5);const i=(e,t)=>\"\".concat(\"https://hn.algolia.com/api/v1\").concat(\"/search\",\"?\").concat(\"query=\").concat(e,\"&\").concat(\"page=\").concat(t),u=e=>e.substring(e.lastIndexOf(\"?\")+1,e.lastIndexOf(\"&\")).replace(\"query=\",\"\"),m=(e,t)=>{switch(t.type){case\"STORIES_FETCH_INIT\":return{...e,isLoading:!0,isError:!1};case\"STORIES_FETCH_SUCCESS\":return{...e,isLoading:!1,isError:!1,data:0===t.payload.page?t.payload.list:e.data.concat(t.payload.list),page:t.payload.page};case\"STORIES_FETCH_FAILURE\":return{...e,isLoading:!1,isError:!0};case\"REMOVE_STORY\":return{...e,data:e.data.filter(e=>t.payload.objectID!==e.objectID)};default:throw new Error}},E=e=>{let{lastSearches:t,onLastSearch:n}=e;return a.createElement(a.Fragment,null,t.map((e,t)=>a.createElement(\"button\",{key:e+t,type:\"button\",onClick:()=>n(e)},e)))},p=e=>{let{searchTerm:t,onSearchInput:n,onSearchSubmit:r}=e;return a.createElement(\"form\",{onSubmit:r},a.createElement(d,{id:\"search\",value:t,isFocused:!0,onInputChange:n},a.createElement(\"strong\",null,\"Search:\")),a.createElement(\"button\",{type:\"submit\",disabled:!t},\"Submit\"))},d=e=>{let{id:t,value:n,type:r=\"text\",onInputChange:c,isFocused:l,children:s}=e;const o=a.useRef();return a.useEffect(()=>{l&&o.current&&o.current.focus()},[l]),a.createElement(a.Fragment,null,a.createElement(\"label\",{htmlFor:t},s),\"\\xa0\",a.createElement(\"input\",{id:t,ref:o,type:r,value:n,onChange:c}))},h={NONE:e=>e,TITLE:e=>Object(o.sortBy)(e,\"title\"),AUTHOR:e=>Object(o.sortBy)(e,\"author\"),COMMENT:e=>Object(o.sortBy)(e,\"num_comments\").reverse(),POINT:e=>Object(o.sortBy)(e,\"points\").reverse()},y=e=>{let{list:t,onRemoveItem:n}=e;const[r,c]=a.useState({sortKey:\"NONE\",isReverse:!1}),l=e=>{const t=r.sortKey===e&&!r.isReverse;c({sortKey:e,isReverse:t})},s=h[r.sortKey],o=r.isReverse?s(t).reverse():s(t);return a.createElement(\"ul\",null,a.createElement(\"li\",{style:{display:\"flex\"}},a.createElement(\"span\",{style:{width:\"40%\"}},a.createElement(\"button\",{type:\"button\",onClick:()=>l(\"TITLE\")},\"Title\")),a.createElement(\"span\",{style:{width:\"30%\"}},a.createElement(\"button\",{type:\"button\",onClick:()=>l(\"AUTHOR\")},\"Author\")),a.createElement(\"span\",{style:{width:\"10%\"}},a.createElement(\"button\",{type:\"button\",onClick:()=>l(\"COMMENT\")},\"Comments\")),a.createElement(\"span\",{style:{width:\"10%\"}},a.createElement(\"button\",{type:\"button\",onClick:()=>l(\"POINT\")},\"Points\")),a.createElement(\"span\",{style:{width:\"10%\"}},\"Actions\")),o.map(e=>a.createElement(S,{key:e.objectID,item:e,onRemoveItem:n})))},S=e=>{let{item:t,onRemoveItem:n}=e;return a.createElement(\"li\",{style:{display:\"flex\"}},a.createElement(\"span\",{style:{width:\"40%\"}},a.createElement(\"a\",{href:t.url},t.title)),a.createElement(\"span\",{style:{width:\"30%\"}},t.author),a.createElement(\"span\",{style:{width:\"10%\"}},t.num_comments),a.createElement(\"span\",{style:{width:\"10%\"}},t.points),a.createElement(\"span\",{style:{width:\"10%\"}},a.createElement(\"button\",{type:\"button\",onClick:()=>n(t)},\"Dismiss\")))};var g=()=>{const[e,t]=((e,t)=>{const[n,r]=a.useState(localStorage.getItem(e)||t);return a.useEffect(()=>{localStorage.setItem(e,n)},[n,e]),[n,r]})(\"search\",\"React\"),[n,r]=a.useState([i(e,0)]),[c,l]=a.useReducer(m,{data:[],page:0,isLoading:!1,isError:!1}),o=a.useCallback(async()=>{l({type:\"STORIES_FETCH_INIT\"});try{const e=n[n.length-1],t=await s.a.get(e);l({type:\"STORIES_FETCH_SUCCESS\",payload:{list:t.data.hits,page:t.data.page}})}catch{l({type:\"STORIES_FETCH_FAILURE\"})}},[n]);a.useEffect(()=>{o()},[o]);const d=(e,t)=>{const a=i(e,t);r(n.concat(a))},h=(e=>e.reduce((e,t,n)=>{const a=u(t);if(0===n)return e.concat(a);return a===e[e.length-1]?e:e.concat(a)},[]).slice(-6).slice(0,-1))(n);return a.createElement(\"div\",null,a.createElement(\"h1\",null,\"My Hacker Stories\"),a.createElement(p,{searchTerm:e,onSearchInput:e=>{t(e.target.value)},onSearchSubmit:t=>{d(e,0),t.preventDefault()}}),a.createElement(E,{lastSearches:h,onLastSearch:e=>{t(e),d(e,0)}}),a.createElement(\"hr\",null),c.isError&&a.createElement(\"p\",null,\"Something went wrong ...\"),a.createElement(y,{list:c.data,onRemoveItem:e=>{l({type:\"REMOVE_STORY\",payload:e})}}),c.isLoading?a.createElement(\"p\",null,\"Loading ...\"):a.createElement(\"button\",{type:\"button\",onClick:()=>{const e=n[n.length-1],t=u(e);d(t,c.page+1)}},\"More\"))};var b=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then(t=>{let{getCLS:n,getFID:a,getFCP:r,getLCP:c,getTTFB:l}=t;n(e),a(e),r(e),c(e),l(e)})};l.a.createRoot(document.getElementById(\"root\")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null))),b()},9:function(e,t,n){e.exports=n(24)}},[[9,1,2]]]);","extractedComments":[]}